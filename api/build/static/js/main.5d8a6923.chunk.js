(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{101:function(e,t,c){},103:function(e,t,c){},131:function(e,t,c){},133:function(e,t,c){},134:function(e,t,c){},135:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},144:function(e,t,c){},145:function(e,t,c){},149:function(e,t,c){"use strict";c.r(t);var r,s=c(0),a=c(18),n=c.n(a),i=(c(101),c(1)),o=function(){return Object(i.jsx)("div",{className:"banner",children:"Free shipping on orders over $50"})},l=(c(103),c(174)),j=c(176),d=c(171),u=c(175),b=c(9),m=c(8),O=c(11),h=c.n(O),x=c(22),p=c(38),f=Object(p.b)({name:"user",initialState:{currentUser:null,isFetching:!1,error:!1},reducers:{loginStart:function(e){e.isFetching=!0},loginSuccess:function(e,t){e.isFetching=!1,e.currentUser=t.payload},loginFailure:function(e){e.isFetching=!1,e.error=!0}}}),v=f.actions,N=v.loginStart,g=v.loginSuccess,y=v.loginFailure,w=f.reducer,k=c(73),C=c.n(k);c(127).config();var S="https://online-shop-mp.herokuapp.com/api/",F=null===(r=JSON.parse(localStorage.getItem("persist:root")))||void 0===r?void 0:r.user,_=F&&JSON.parse(F).currentUser,I=null===_||void 0===_?void 0:_.accessToken,A=C.a.create({baseURL:S}),q=C.a.create({baseURL:S,header:{token:"Bearer ".concat(I)}}),E=function(){var e=Object(x.a)(h.a.mark((function e(t,c){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N()),e.prev=1,e.next=4,A.post("/auth/login",c);case 4:r=e.sent,t(g(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(y());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(h.a.mark((function e(t,c){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N()),e.prev=1,e.next=4,A.post("/auth/register",c);case 4:r=e.sent,t(g(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(y());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),U=c(173),T=c(93),R=function(){var e=Object(b.c)((function(e){return e.user.currentUser})),t=Object(b.c)((function(e){return e.cart})),c=Object(b.b)(),r=function(){return t.products.reduce((function(e,t){return e+t.quantity}),0)},s=function(){c(void window.localStorage.clear())};return Object(i.jsx)("div",{className:"navbar-menu",children:Object(i.jsxs)("div",{className:"navbar-wrapper",children:[Object(i.jsxs)("div",{className:"navbar-left",children:[Object(i.jsx)("div",{className:"navbar-logo",children:"Online Christmas market"}),Object(i.jsx)(m.b,{to:"/",className:"navbar-item-link",children:Object(i.jsx)("div",{className:"navbar-item",children:"Home"})}),Object(i.jsx)(m.b,{to:"/fairs",className:"navbar-item-link",children:Object(i.jsx)("div",{className:"navbar-item",children:"Fairs"})})]}),Object(i.jsxs)("div",{className:"navbar-right",children:[Object(i.jsxs)("div",{className:"navbar-search-container",children:[Object(i.jsx)(d.a,{className:"navbar-search"}),Object(i.jsx)("input",{className:"navbar-input",placeholder:"What are you looking for?"})]}),e?Object(i.jsxs)(U.a,{id:"navbar-dropdown",title:e.username,children:[Object(i.jsx)(T.a.Item,{href:"/",children:"My account"}),Object(i.jsx)(T.a.Item,{href:"/",onClick:s,children:"Logout"})]}):Object(i.jsx)(m.b,{to:"/login",className:"navbar-item-link",children:Object(i.jsx)("div",{className:"navbar-item",children:"Login"})}),Object(i.jsx)("div",{className:"navbar-item",children:"Orders"}),Object(i.jsx)(m.b,{to:"/cart",children:Object(i.jsx)("div",{className:"navbar-item",children:Object(i.jsx)(l.a,{badgeContent:r(),color:"primary",children:Object(i.jsx)(u.a,{})})})}),Object(i.jsx)("div",{className:"navbar-hamburger",children:e?Object(i.jsxs)("div",{className:"navbar-mobile",children:[Object(i.jsxs)(U.a,{id:"navbar-dropdown",title:Object(i.jsx)(j.a,{}),children:[Object(i.jsx)(T.a.Item,{href:"/",children:"My account"}),Object(i.jsx)(T.a.Item,{href:"/",children:"Home"}),Object(i.jsx)(T.a.Item,{href:"/fairs",children:"Fairs"}),Object(i.jsx)(T.a.Item,{href:"/cart",children:"Orders"}),Object(i.jsx)(T.a.Item,{href:"/",onClick:s,children:"Logout"})]}),Object(i.jsx)(m.b,{to:"/cart",children:Object(i.jsx)("div",{className:"navbar-item-cart",children:Object(i.jsx)(l.a,{badgeContent:r(),color:"primary",children:Object(i.jsx)(u.a,{})})})})]}):Object(i.jsxs)("div",{className:"navbar-mobile",children:[Object(i.jsx)("div",{className:"navbar-mobile-logo",children:"Online Christmas market"}),Object(i.jsxs)(U.a,{id:"navbar-dropdown",title:Object(i.jsx)(j.a,{}),children:[Object(i.jsx)(T.a.Item,{className:"navbar-dropdown-item",href:"/",children:"Home"}),Object(i.jsx)(T.a.Item,{className:"navbar-dropdown-item",href:"/fairs",children:"Fairs"}),Object(i.jsx)(T.a.Item,{className:"navbar-dropdown-item",href:"/cart",children:"Orders"}),Object(i.jsx)(T.a.Item,{className:"navbar-dropdown-item",href:"/login",children:"Login"})]}),Object(i.jsx)(m.b,{to:"/cart",children:Object(i.jsx)("div",{className:"navbar-item-cart",children:Object(i.jsx)(l.a,{badgeContent:r(),color:"primary",children:Object(i.jsx)(u.a,{})})})})]})})]})]})})},L=(c(131),[{id:1,img:c.p+"static/media/carousel_1.32da9d76.jpg",title:"20% DISCOUNT ON PURCHASE OF MORE THAN 5 ITEMS"},{id:2,img:c.p+"static/media/carousel_2.215f049d.jpg",title:"MORE THAN 3000 ITEMS AVAILABLE"},{id:3,img:c.p+"static/media/carousel_3.6ca4a809.png",title:"WIDE ASSORTMENT OF GIFT CARDS"}]),M=(c(132),c(76)),D=c(177),$=c(178),H=function(){return Object(i.jsx)(M.a,{indicators:!1,prevIcon:!0,nextIcon:!0,className:"carousel",children:L.map((function(e){return Object(i.jsxs)(M.a.Item,{className:"carousel-item",children:[Object(i.jsx)("img",{className:"d-block w-100",src:e.img,alt:""}),Object(i.jsx)("h3",{children:e.title}),Object(i.jsx)(D.a,{className:"carousel-arrow-prev"}),Object(i.jsx)($.a,{className:"carousel-arrow-next"})]},e.id)}))})},W=c(3),G=(c(133),c(134),function(e){var t=e.item;return Object(i.jsx)("div",{className:"category-item",children:Object(i.jsxs)("div",{className:"category-item-container",children:[Object(i.jsx)("h2",{className:"category-item-title",children:t.title}),Object(i.jsx)(m.b,{to:"/products/".concat(t.title),children:Object(i.jsx)("img",{className:"category-item-img",src:t.img,alt:""})})]})})}),Q=function(){var e=Object(s.useState)([]),t=Object(W.a)(e,2),c=t[0],r=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/categories");case 3:t=e.sent,r(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"categories",children:Object(i.jsx)("div",{className:"categories-list",children:c.map((function(e){return Object(i.jsx)(G,{item:e},e._id)}))})})},Y=c(179),B=c(180),J=c(181),K=(c(135),function(){return Object(i.jsxs)("div",{className:"footer-bottom",children:[Object(i.jsxs)("div",{className:"footer",children:[Object(i.jsxs)("div",{className:"footer-left",children:[Object(i.jsx)("h1",{children:"Online Christmas market"}),Object(i.jsx)("p",{children:"Shop at our online Christmas market and find the perfect gift for your family and loved ones. We offer a variaty of unique, handmade, and original products from individuals and small businesses. Check out our seasonal outdoor fairs and marketplaces in and around the city."}),Object(i.jsxs)("div",{className:"footer-social-media",children:[Object(i.jsx)("div",{className:"footer-social-media-icon",children:Object(i.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noreferrer",className:"footer-social-media-icon-link",children:Object(i.jsx)(Y.a,{})})}),Object(i.jsx)("div",{className:"footer-social-media-icon",children:Object(i.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",className:"footer-social-media-icon-link",children:Object(i.jsx)(B.a,{})})}),Object(i.jsx)("div",{className:"footer-social-media-icon",children:Object(i.jsx)("a",{href:"https://twitter.com/",target:"_blank",rel:"noreferrer",className:"footer-social-media-icon-link",children:Object(i.jsx)(J.a,{})})})]})]}),Object(i.jsxs)("div",{className:"footer-center",children:[Object(i.jsx)("h3",{className:"footer-title",children:"Links"}),Object(i.jsxs)("ul",{className:"footer-list",children:[Object(i.jsx)("li",{className:"footer-list-item",children:"Home"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Cart"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Product categories"}),Object(i.jsx)("li",{className:"footer-list-item",children:"My Account"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Order tracking"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Gift cards"})]})]}),Object(i.jsxs)("div",{className:"footer-right",children:[Object(i.jsx)("h3",{className:"footer-title",children:"Let us help you"}),Object(i.jsxs)("ul",{className:"footer-list",children:[Object(i.jsx)("li",{className:"footer-list-item",children:"Contact us"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Payment options"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Shipping rates"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Return policies"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Become a member"}),Object(i.jsx)("li",{className:"footer-list-item",children:"Terms"})]})]})]}),Object(i.jsxs)("div",{className:"footer-mobile",children:[Object(i.jsx)("h1",{children:"Online Christmas market"}),Object(i.jsxs)("div",{className:"footer-social-media",children:[Object(i.jsx)("div",{className:"footer-social-media-icon",children:Object(i.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noreferrer",className:"footer-social-media-icon-link",children:Object(i.jsx)(Y.a,{})})}),Object(i.jsx)("div",{className:"footer-social-media-icon",children:Object(i.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",className:"footer-social-media-icon-link",children:Object(i.jsx)(B.a,{})})}),Object(i.jsx)("div",{className:"footer-social-media-icon",children:Object(i.jsx)("a",{href:"https://twitter.com/",target:"_blank",rel:"noreferrer",className:"footer-social-media-icon-link",children:Object(i.jsx)(J.a,{})})})]})]})]})}),z=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(o,{}),Object(i.jsx)(R,{}),Object(i.jsx)(H,{}),Object(i.jsx)(Q,{}),Object(i.jsx)(K,{})]})},V=c(35),X=c(4),Z=(c(136),c(30)),ee=(c(137),c(138),c(184)),te=function(){var e=Object(s.useState)(0),t=Object(W.a)(e,2),c=t[0],r=t[1];return Object(i.jsx)(ee.a,{value:c,onChange:function(e,t){r(t)}})},ce=function(e){var t=e.item;return Object(i.jsxs)("div",{className:"product-item",children:[Object(i.jsxs)("div",{className:"product-item-img-container",children:[Object(i.jsx)(m.b,{to:"/product/".concat(t._id),className:"product-item-link",children:Object(i.jsx)("img",{className:"product-item-img",src:t.img,alt:""})})," "]}),Object(i.jsxs)("div",{className:"product-item-info",children:[Object(i.jsx)("div",{className:"product-item-desc",children:t.desc}),Object(i.jsx)("div",{className:"product-item-brand",children:t.brand}),Object(i.jsxs)("span",{className:"product-item-price",children:["$",t.price.toFixed(2)]}),Object(i.jsx)(te,{})]})]})},re=function(e){var t=e.cat,c=e.filters,r=e.sort,a=Object(s.useState)([]),n=Object(W.a)(a,2),o=n[0],l=n[1],j=Object(s.useState)([]),d=Object(W.a)(j,2),u=d[0],b=d[1];return Object(s.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/products?category=".concat(t));case 3:c=e.sent,l(c.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(s.useEffect)((function(){t&&b(o.filter((function(e){return Object.entries(c).every((function(t){var c=Object(W.a)(t,2),r=c[0],s=c[1];return e[r].includes(s)}))})))}),[o,t,c]),Object(s.useEffect)((function(){b("newest"===r?function(e){return Object(Z.a)(e).sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}))}:"lowtohigh"===r?function(e){return Object(Z.a)(e).sort((function(e,t){return e.price-t.price}))}:function(e){return Object(Z.a)(e).sort((function(e,t){return t.price-e.price}))})}),[r]),Object(i.jsx)("div",{className:"products",children:u.map((function(e){return Object(i.jsx)(ce,{item:e,cat:t},e._id)}))})},se=c(5),ae=function(){var e=Object(se.f)().pathname.split("/")[2],t=e.replace(/%20/g," "),c=Object(s.useState)({}),r=Object(W.a)(c,2),a=r[0],n=r[1],l=Object(s.useState)(),j=Object(W.a)(l,2),d=j[0],u=j[1];return Object(i.jsxs)("div",{className:"product-list",children:[Object(i.jsx)(o,{}),Object(i.jsx)(R,{}),Object(i.jsxs)("div",{className:"product-list-title",children:["Category: ",t]}),Object(i.jsxs)("div",{className:"product-list-filter-container",children:[Object(i.jsxs)("div",{className:"product-list-filter",children:[Object(i.jsx)("span",{className:"product-list-filter-title",children:"Filter Products:"}),Object(i.jsxs)("select",{className:"product-list-filter-select",name:"brand",onChange:function(e){var t=e.target.value;n(Object(X.a)(Object(X.a)({},a),{},Object(V.a)({},e.target.name,t))),"All brands"===t&&n({})},children:[Object(i.jsx)("option",{children:"All brands"}),[{id:1,name:"Gifts&Gifts"},{id:2,name:"Royal"},{id:3,name:"Fair"}].map((function(e){return Object(i.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(i.jsxs)("div",{className:"product-list-filter",children:[Object(i.jsx)("span",{className:"product-list-filter-title",children:"Sort Products:"}),Object(i.jsxs)("select",{className:"product-list-filter-select",onChange:function(e){return u(e.target.value)},children:[Object(i.jsx)("option",{value:"newest",children:"Newest Arrivals"}),Object(i.jsx)("option",{value:"lowtohigh",children:"Price: Low to High"}),Object(i.jsx)("option",{value:"hightolow",children:"Price: High to Low"})]})]})]}),Object(i.jsx)(re,{cat:e,filters:a,sort:d}),Object(i.jsx)(K,{})]})},ne=c(182),ie=c(183),oe=(c(139),Object(p.b)({name:"cart",initialState:{products:[],quantity:0},reducers:{addProduct:function(e,t){var c=t.payload;e.products.find((function(e){return e._id===c._id}))?e=e.products.map((function(e){return e._id===c._id?Object(X.a)(Object(X.a)({},e),{},{quantity:e.quantity+=c.quantity}):e})):(e.products.push(c),e.quantity+=1)},incQuantity:function(e,t){var c=t.payload;e.products.find((function(e){return e._id===c})).quantity++},decQuantity:function(e,t){var c=t.payload,r=e.products.find((function(e){return e._id===c}));if(1===r.quantity){var s=e.products.findIndex((function(e){return e._id===c}));e.products.splice(s,1)}else r.quantity--},removeProduct:function(e,t){var c=t.payload,r=e.products.findIndex((function(e){return e._id===c}));e.products.splice(r,1)}}})),le=oe.actions,je=le.addProduct,de=le.incQuantity,ue=le.decQuantity,be=le.removeProduct,me=oe.reducer,Oe=c(75),he=(c(140),function(){var e,t=Object(se.f)().pathname.split("/")[2],c=Object(s.useState)({}),r=Object(W.a)(c,2),a=r[0],n=r[1],l=Object(b.b)(),j=Object(s.useState)(1),d=Object(W.a)(j,2),u=d[0],m=d[1];Object(s.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/products/find/"+t);case 3:c=e.sent,n(c.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var O=function(e){"dec"===e?u>1&&m(u-1):m(u+1)};return Object(i.jsxs)("div",{className:"product-detail",children:[Object(i.jsx)(o,{}),Object(i.jsx)(R,{}),Object(i.jsxs)("div",{className:"product-detail-wrapper",children:[Object(i.jsx)("div",{className:"product-detail-img-container",children:Object(i.jsx)("img",{className:"product-detail-img",src:a.img,alt:""})}),Object(i.jsxs)("div",{className:"product-detail-info",children:[Object(i.jsx)("h4",{className:"product-detail-title",children:a.title}),Object(i.jsxs)("div",{className:"product-detail-brand",children:["Brand: ",a.brand]}),Object(i.jsx)(te,{}),Object(i.jsxs)("div",{className:"product-detail-price",children:["Price: ",Object(i.jsxs)("span",{children:["$",null===(e=a.price)||void 0===e?void 0:e.toFixed(2)]})]}),Object(i.jsx)("p",{className:"product-detail-desc",children:a.desc}),Object(i.jsx)("div",{className:"product-detail-amount-wrapper",children:Object(i.jsxs)("div",{className:"product-detail-amount-container",children:[Object(i.jsx)(ne.a,{onClick:function(){return O("dec")}}),Object(i.jsx)("span",{className:"product-detail-amount",children:u}),Object(i.jsx)(ie.a,{onClick:function(){return O("inc")}})]})}),Object(i.jsx)("button",{className:"product-detail-button",onClick:function(){l(je(Object(X.a)(Object(X.a)({},a),{},{quantity:u}))),Oe.b.success("A product has been added")},children:"Add to Cart"}),Object(i.jsx)(Oe.a,{})]})]}),Object(i.jsx)(K,{})]})}),xe=(c(141),function(){var e=Object(s.useState)(""),t=Object(W.a)(e,2),c=t[0],r=t[1],a=Object(s.useState)(""),n=Object(W.a)(a,2),o=n[0],l=n[1],j=Object(b.b)(),d=Object(b.c)((function(e){return e.user})),u=d.isFetching,O=d.error;return Object(i.jsxs)("div",{className:"login",children:[Object(i.jsxs)("div",{className:"login-wrapper",children:[Object(i.jsx)("h1",{className:"login-title",children:"Sign-In"}),Object(i.jsxs)("form",{className:"login-form",children:[Object(i.jsx)("input",{placeholder:"Username",onChange:function(e){return r(e.target.value)}}),Object(i.jsx)("input",{placeholder:"Password",type:"password",onChange:function(e){return l(e.target.value)}}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),E(j,{username:c,password:o})},disabled:u,children:"LOGIN"}),O&&Object(i.jsx)("span",{children:"Something is wrong..."}),Object(i.jsx)("p",{children:"Forgot the password?"})]})]}),Object(i.jsxs)("div",{className:"login-new-account",children:[Object(i.jsx)("p",{children:"New to the website?"}),Object(i.jsx)(m.b,{to:"/register",children:Object(i.jsx)("button",{children:"Create an account"})})]})]})}),pe=(c(142),function(){var e=Object(s.useState)(""),t=Object(W.a)(e,2),c=t[0],r=t[1],a=Object(s.useState)(""),n=Object(W.a)(a,2),o=n[0],l=n[1],j=Object(s.useState)(""),d=Object(W.a)(j,2),u=d[0],O=d[1],h=Object(b.b)(),x=Object(b.c)((function(e){return e.user})),p=x.isFetching,f=x.error;return Object(i.jsxs)("div",{className:"register",children:[Object(i.jsxs)("div",{className:"register-wrapper",children:[Object(i.jsx)("h1",{className:"register-title",children:"Create account"}),Object(i.jsxs)("form",{className:"register-form",children:[Object(i.jsx)("p",{children:"Username"}),Object(i.jsx)("input",{placeholder:"Username",onChange:function(e){return r(e.target.value)}}),Object(i.jsx)("p",{children:"Email"}),Object(i.jsx)("input",{placeholder:"E-mail address",onChange:function(e){return O(e.target.value)}}),Object(i.jsx)("p",{children:"Password"}),Object(i.jsx)("input",{placeholder:"Password",onChange:function(e){return l(e.target.value)}}),Object(i.jsx)("p",{children:"Confirm password"}),Object(i.jsx)("input",{placeholder:"Password",onChange:function(e){return l(e.target.value)}}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),P(h,{username:c,password:o,email:u})},disabled:p,children:"Create"}),f&&Object(i.jsx)("span",{children:"Something is wrong..."})]})]}),Object(i.jsx)("div",{className:"register-signin",children:Object(i.jsxs)("p",{children:["Already have an account?",Object(i.jsx)(m.b,{to:"/login",children:Object(i.jsx)("span",{children:" Sign in"})})]})})]})}),fe=(c(143),c(90)),ve=c.n(fe),Ne=c.p+"static/media/cart.480e8d79.png",ge=function(){var e=Object(b.c)((function(e){return e.cart})),t=Object(s.useState)(null),c=Object(W.a)(t,2),r=c[0],a=c[1],n=Object(b.b)(),l=Object(se.g)(),j=Object(s.useCallback)((function(){return e.products.reduce((function(e,t){return e+t.price*t.quantity}),0)}),[e.products]);return Object(s.useEffect)((function(){r&&0!==j&&function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("/checkout/payment",{tokenId:r.id,amount:100});case 3:t=e.sent,l("/success",{data:t.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[r,j,l]),Object(i.jsxs)("div",{className:"cart",children:[Object(i.jsx)(o,{}),Object(i.jsx)(R,{}),Object(i.jsxs)("div",{className:"cart-wrapper",children:[Object(i.jsxs)("h1",{className:"cart-title",children:["Shopping Cart (",e.products.reduce((function(e,t){return e+t.quantity}),0),")"]}),0!==j()?Object(i.jsxs)("div",{className:"cart-order",children:[Object(i.jsx)("div",{className:"cart-order-container",children:e.products.map((function(e){return Object(i.jsxs)("div",{className:"cart-order-product",children:[Object(i.jsx)("div",{className:"cart-order-product-img",children:Object(i.jsx)("img",{src:e.img,alt:""})}),Object(i.jsxs)("div",{className:"cart-order-product-info",children:[Object(i.jsx)("h3",{children:e.title}),Object(i.jsx)("p",{className:"cart-order-product-desc",children:e.desc}),Object(i.jsx)("p",{className:"cart-order-product-delete",onClick:function(){return n(be(e._id))},children:"Remove"})]}),Object(i.jsxs)("div",{className:"cart-order-product-price",children:[Object(i.jsx)("h3",{children:"Total cost"}),Object(i.jsxs)("p",{children:["$",(e.price*e.quantity).toFixed(2)]})]}),Object(i.jsx)("div",{className:"cart-order-product-price-mobile",children:Object(i.jsxs)("h3",{children:["Total cost:"," ",Object(i.jsxs)("span",{children:["$",(e.price*e.quantity).toFixed(2)]})]})}),Object(i.jsx)("div",{className:"cart-order-product-quantity",children:Object(i.jsxs)("div",{className:"cart-order-product-quantity-box",children:[Object(i.jsx)("h3",{children:"Quantity"}),Object(i.jsxs)("div",{className:"cart-order-product-quantity-update",children:[Object(i.jsx)(ne.a,{onClick:function(){return n(ue(e._id))}}),Object(i.jsx)("span",{className:"product-detail-amount",children:e.quantity}),Object(i.jsx)(ie.a,{onClick:function(){return n(de(e._id))}})]})]})}),Object(i.jsx)("div",{className:"cart-order-product-quantity-mobile",children:Object(i.jsx)("div",{className:"cart-order-product-quantity-box-mobile",children:Object(i.jsxs)("h3",{children:["Quantity:",Object(i.jsxs)("span",{className:"cart-order-product-quantity-update-mobile",children:[Object(i.jsx)(ne.a,{onClick:function(){return n(ue(e._id))}}),Object(i.jsx)("span",{className:"product-detail-amount-mobile",children:e.quantity}),Object(i.jsx)(ie.a,{onClick:function(){return n(de(e._id))}})]})]})})})]},e._id)}))}),Object(i.jsxs)("div",{className:"cart-order-summary",children:[Object(i.jsx)("h1",{children:"ORDER SUMMARY"}),Object(i.jsxs)("div",{className:"cart-order-summary-item",children:[Object(i.jsx)("span",{children:"Subtotal"}),Object(i.jsxs)("span",{children:["$ ",Number(j()).toFixed(2)]})]}),Object(i.jsxs)("div",{className:"cart-order-summary-item",children:[Object(i.jsx)("span",{children:"Shipping"}),Object(i.jsxs)("span",{children:["$ ",Number(.1*j()).toFixed(2)]})]}),Object(i.jsxs)("div",{className:"cart-order-summary-item",children:[Object(i.jsx)("span",{children:"Tax"}),Object(i.jsxs)("span",{children:["$ ",Number(.05*j()).toFixed(2)]})]}),Object(i.jsxs)("div",{className:"cart-order-summary-item",id:"total",children:[Object(i.jsx)("span",{children:"Total"}),Object(i.jsxs)("span",{children:["$"," ",(Number(j())+Number(.1*j())+Number(.05*j())).toFixed(2)]})]}),Object(i.jsx)(ve.a,{name:"Online Christmas shop",billingAddress:!0,shippingAddress:!0,description:"Your total is $".concat((Number(j())+Number(.1*j())+Number(.05*j())).toFixed(2)),amount:100*(Number(j())+Number(.1*j())+Number(.05*j())).toFixed(2),token:function(e){a(e)},stripeKey:"pk_test_51KJAQDAvVYPj6YPQGNijhW17gPR63WGj1DKgcz6dnexMWc5UKh1Uh7vx6XOceEI5gpsioN4qAtf2bUFBjtPr0lxU00YwXy9A8r",children:Object(i.jsx)("button",{children:"CHECKOUT NOW"})})]})]}):Object(i.jsxs)("div",{className:"cart-empty",children:[Object(i.jsx)("img",{className:"cart-empty-img",src:Ne,alt:""}),Object(i.jsx)("div",{className:"cart-empty-text",children:"Your cart is empty"}),Object(i.jsx)(m.b,{to:"/",className:"cart-empty-link",children:Object(i.jsx)("button",{className:"cart-empty-button",children:"Go shopping"})})]})]}),Object(i.jsx)(K,{})]})},ye=(c(144),c.p+"static/media/box.881a9905.png"),we=function(){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"success",children:[Object(i.jsx)("h3",{children:"Thank you for shopping with us!"}),Object(i.jsx)("img",{className:"success-img",src:ye,alt:""}),Object(i.jsx)("h6",{children:"Your order has been placed. We will send you a confirmation when your order is ready for delivery"}),Object(i.jsxs)("h6",{children:["Your order number is ",function(){var e=Date.now().toString();return[(e+=e+Math.floor(10*Math.random())).slice(0,4),e.slice(4,10),e.slice(10,14)].join("-")}()]})]}),Object(i.jsx)(K,{})]})},ke=(c(145),function(){var e=Object(s.useState)([]),t=Object(W.a)(e,2),c=t[0],r=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/fairs");case 3:t=e.sent,r(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(o,{}),Object(i.jsx)(R,{}),Object(i.jsx)("div",{className:"fair",children:Object(i.jsxs)("div",{className:"fair-wrapper",children:[Object(i.jsx)("h4",{children:"We invite you to visit our Christmars markets and fairs!"}),c.map((function(e){return Object(i.jsxs)("div",{className:"fair-list",children:[Object(i.jsx)("h3",{children:e.title}),Object(i.jsxs)("div",{className:"fair-item",children:[Object(i.jsx)("span",{children:"Date:"})," ",e.date]}),Object(i.jsxs)("div",{className:"fair-item",children:[Object(i.jsx)("span",{children:"Address:"})," ",e.address]}),Object(i.jsxs)("div",{className:"fair-item",children:[Object(i.jsx)("span",{children:"Admission fee:"})," $",e.fee]})]},e._id)}))]})}),Object(i.jsx)(K,{})]})}),Ce=function(){var e=Object(b.c)((function(e){return e.user.currentUser}));return Object(i.jsx)(m.a,{children:Object(i.jsxs)(se.d,{children:[Object(i.jsx)(se.b,{exact:!0,path:"/",element:Object(i.jsx)(z,{})}),Object(i.jsx)(se.b,{path:"/products/:category",element:Object(i.jsx)(ae,{})}),Object(i.jsx)(se.b,{path:"/product/:id",element:Object(i.jsx)(he,{})}),Object(i.jsx)(se.b,{path:"/login",element:e?Object(i.jsx)(se.a,{to:"/"}):Object(i.jsx)(xe,{})}),Object(i.jsx)(se.b,{path:"/register",element:e?Object(i.jsx)(se.a,{to:"/"}):Object(i.jsx)(pe,{})}),Object(i.jsx)(se.b,{path:"/cart",element:Object(i.jsx)(ge,{})}),Object(i.jsx)(se.b,{path:"/success",element:Object(i.jsx)(we,{})}),Object(i.jsx)(se.b,{path:"/fairs",element:Object(i.jsx)(ke,{})})]})})},Se=c(19),Fe=c(27),_e=c(91),Ie={key:"root",version:1,storage:c.n(_e).a},Ae=Object(Se.b)({user:w,cart:me}),qe=Object(Fe.g)(Ie,Ae),Ee=Object(p.a)({reducer:qe,middleware:function(e){return e({serializableCheck:{ignoredActions:[Fe.a,Fe.f,Fe.b,Fe.c,Fe.d,Fe.e]}})}}),Pe=Object(Fe.h)(Ee),Ue=c(92);c(148);n.a.render(Object(i.jsx)(b.a,{store:Ee,children:Object(i.jsx)(Ue.a,{loading:null,persistor:Pe,children:Object(i.jsx)(Ce,{})})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.5d8a6923.chunk.js.map